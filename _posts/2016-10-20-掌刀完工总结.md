---
layout: post
title: "掌刀完工总结"
date: 2016-10-20 21:10:05
categories: 杂记
---

### 写在前面

距离掌刀iOS版本的开发不知不觉已经过去快一个月了，期间也是坑不少，每天挤着时间去做这件事情，同时一边学习Swift，昨天将APP递交到了iTunes，结果由于封面图有官方logo而被拒了，打算周末改改封面图再提交，同时写写这次工作的总结。

### 开发中遇到的问题

从严格意义上说，这是我第一次使用Swift开发APP，同时也是最新的3.0版本。Swift这个东西，写起来自然是爽，不过对于习惯了Objective-C++的人来说还是很别扭的。好了，闲话扯完了，记录一下开发中遇到的一些需要注意的问题。

#### 1.`UIViewController视图偏移`

在开发过程中出现了一个奇怪的现象，就是当顶部视图为`scrollView`时并且`scrollView`的`frame`没有设置`y值`时，视图会被`navigationBar`给`覆盖`掉，而当设置了y值后，视图会莫名其妙的向下偏移44个单位。   
这是因为UIViewController有一个属性叫做`automaticallyAdjustsScrollViewInsets`，这个属性默认为`true`，会自动对`scrollView`的位置进行调整，所以就导致了刚刚的现象，解决方案很简单，将这个属性设置为`false`，同时手动对`scrollView`的frame进行设置即可。

#### 2.`#pragma在Swift中的替代方案`

我们知道在Swift中无法使用宏定义，`#pragma`这种常用的注释方式也不能使用，替代方案就是使用`//MARK:`注释，同时更加推荐将接受的协议方法写在`extension`里，这样可以使得文件结构更加清晰。