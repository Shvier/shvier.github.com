---
layout: post
title: "鸟哥的Linux私房菜(服务器架设篇)"
date: 2016-11-23 21:59:11
categories: Linux
---

### 写在前面

月初在V2EX上很幸运的抽中了一本《鸟哥的Linux私房菜》，上周拿到了这本书，拿到手后开始拜读，希望每天都能抽出一点空来学习Linux，并将其记录在这篇博客里。

#### Linux学习的准备

在鸟哥的书中使用了CentOS发行版本，本来我是打算使用Ubuntu的，因为Ubuntu的相关资料和手册最多最好找到。但是既然有鸟哥的指导，就可以来会一会这款最接近RedHat的发行版本。

#### 安装CentOS

与安装Windows和其他的Ubuntu版本类似，下载镜像后使用UtralISO或者其他磁盘镜像工具刻录在U盘上，重启PC选择U盘引导，一切都按照说明步骤来，但是在手动设置磁盘分区时，对新手来说一定会不太理解这个分区是如何分的，其实在安装Windows时，也会需要进行分区设置，但是Windows会自动帮我们设置好，而Linux下手动设置能帮助我们深入理解Linux的系统结构，因此有必要学习一下Linux的分区知识。

##### Linux分区

首先必须设置的分区有：   
  
  * `/`。根目录，如果把目录看成一棵树，那么根目录就是最顶端的节点。   
 
剩下的分区都是推荐设置的：

  * `swap`。交互分区，这块分区是当计算机的RAM没有可用空间时，将会把内存中优先级较低或者不活跃的程序踢出去，即踢到`swap`分区，而当需要这个程序时，再从交换分区重新加载到内存。一般推荐大小等于RAM大小。
  * `boot`。引导分区，该分区主要存放系统启动相关的东西，例如内核、grub，类似于Windows下的EFI分区，CentOS要求不低于200MB，我一般设置为300MB，主要是因为Windows的EFI大小约为300MB。
  * `home`。主目录，可以理解为Windows上的`我的电脑`或者masOS上的`Finder`，主要存放用户自己的数据。
  * `var`。系统运行时需要改变的数据，主要是进行服务器功能时需要设置的，鸟哥书上设置为2GB。
  * `usr`。以前是user的缩写，是曾经的`home目录`，现在的全称是Unix System Resource，即Unix系统资源。usr目录是系统核心所在，包含了所有共享文件。同时所有的程序都会安装在这里，在部分Linux发行版本上，该目录也会作为home目录使用。与home目录类似，最好设置的足够大。
  * `tmp`。顾名思义，临时文件存放的分区，每次关机后都会被清理干净。

##### 安装桌面环境

在以上设置完成后，进入系统，如果下载的是DVD ISO，即不是全套软件的ISO，应该只能看到字符界面，可以尝试输入

    $ startx
    
观察能否进入Linux桌面，如果不能进入，则需要安装桌面环境，CentOS上比较流行的有`KDE`和`GNOME`两种桌面环境，个人比较喜欢`GNOME`，输入命令

    $ yum groupinstall "GNOME Desktop"
    
如果提示权限不够，可以先使用root账户

    $ su root
    
然后加上

    $ sudo yum groupinstall "GNOME Desktop"
    
此时如果提示网络异常，可以先尝试ping一下回环地址

    $ ping 127.0.0.1
    
可以看到发出的包，即可排除网络异常，那么可以尝试重启一下网络服务

    $ service network restart
    
如果提示`Network is unreachable`，可以尝试输入

    $ dhclient
    
此时错误应该就解决了。